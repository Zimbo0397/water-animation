<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<div class="inline-layout">
		<div class="water-blocks">
			<div class="water-block">
				<div class="image-holder">
					<img src="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" alt="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" class="fake-img">
					<div style="background-image: url(http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG)" class="img"></div>
					<div class="shadow">
					</div>
				</div>
			</div>
		<!-- 	<div class="water-block">
				<div class="image-holder">
					<img src="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" alt="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" class="fake-img">
					<div style="background-image: url(http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG)" class="img"></div>
				</div>
			</div>
			<div class="water-block">
				<div class="image-holder">
					<img src="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" alt="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" class="fake-img">
					<div style="background-image: url(http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG)" class="img"></div>
				</div>
			</div>
			<div class="water-block">
				<div class="image-holder">
					<img src="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" alt="http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG" class="fake-img">
					<div style="background-image: url(http://2.bp.blogspot.com/-bjYlfeE4l-k/UcWvfhn5KMI/AAAAAAAAEns/4dNQ_vIBLsU/s640/%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D1%8B%D0%B5+%D1%84%D0%BE%D1%82%D0%BE+%D0%B1%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%BA7.JPG)" class="img"></div>
				</div>
			</div> -->
		</div>
	</div>
	<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
	<script src='js/perlin.js'></script>

	<script>

	var counter = 0;
		var arr = [0.009990149399999999, 0.009999901494, -0.010009653588, -0.010009653588, 0.009990149399999999, -0.009999901494, -0.009999901494, 0.009990149399999999, 0, 0, 0.0199223808, 0.019998447616, -0.020074514432, -0.020074514432, 0.0199223808, -0.019998447616, -0.019998447616, 0.0199223808, 0, 0, 0.029742004199999998, 0.029992260126, -0.030242516052, -0.030242516052, 0.029742004199999998, -0.029992260126, -0.029992260126, 0.029742004199999998, 0, 0, 0.039397785600000006, 0.039975911424000005, -0.040554037248000004, -0.040554037248000004, 0.039397785600000006, -0.039975911424000005, -0.039975911424000005, 0.039397785600000006, 0, 0, 0.048841875, 0.04994209375, -0.0510423125, -0.0510423125, 0.048841875, -0.04994209375, -0.04994209375, 0.048841875, 0, 0, 0.0580297344, 0.059881784064, -0.061733833728, -0.061733833728, 0.0580297344, -0.059881784064, -0.059881784064, 0.0580297344, 0, 0, 0.06692006580000001, 0.06978440460600001, -0.072648743412, -0.072648743412, 0.06692006580000001, -0.06978440460600001, -0.06978440460600001, 0.0669200658000000011002187500003264, -0.0011002187500003264, -0.048841874999999035, 0, 0, -0.039397785599999735, 0.0005781258239996493, -0.04055403724799904, -0.04055403724799904, -0.039397785599999735, -0.0005781258239996493, -0.0005781258239996493, -0.039397785599999735, 0, 0, -0.029742004199999506, 0.00025025592599985954, -0.03024251605199922, -0.03024251605199922, -0.029742004199999506, -0.00025025592599985954, -0.00025025592599985954, -0.029742004199999506, 0, 0, -0.01992238079999986, 0.00007606681599950043, -0.020074514431998862, -0.020074514431998862, -0.01992238079999986, -0.00007606681599950043, -0.00007606681599950043, -0.01992238079999986, 0, 0, -0.009990149399999315, 0.000009752094000027306, -0.010009653587999368, -0.010009653587999368, -0.009990149399999315, -0.000009752094000027306, -0.000009752094000027306, -0.009990149399999315, 2.955863948185156, 0, 6.66133814775093916, -2.95586394818515645, 6.66133814775093916, 6.66133814775093916, 6.66133814775093916, 2.95586394818515645, 2.95586394818515645, 6.66133814775093916];
	$.fn.waterBlock = function(i) {
		var height = 0;
		var $target = $(this);
		function drawFrame() {
		  // var start = Date.now();
		  // Cache width and height values for the canvas.
			var count = 10;
			var cValue = null;
			

		  // var max = -Infinity, min = Infinity;
		  // var noisefn = noise.perlin3;
		  // for (var x = 0; x < count; x++) {
				// var value = noisefn(x , x, height);

				// switch(i) {
				// 	case 0:
				// 		var rotateY = value * 20,
				// 			rotateX = value * -20;
				// 			translateX = -value * 2;
				// 			translateY = -value * 1;
				// 	break;
				// 	case 1:
				// 		var rotateY = value * -25,
				// 			rotateX = value * 21;
				// 			translateX = value * 2;
				// 			translateY = -value * 2;
				// 	break;
				// 	case 2:
				// 		var rotateY = value * 10,
				// 			rotateX = value * 30;
				// 			translateX = -value * 2;
				// 			translateY = value * 1;
				// 	break;
				// 	case 3:
				// 		var rotateY = value * 30,
				// 			rotateX = value * 10;
				// 			translateX = -value * 1;
				// 			translateY = -value * 2;
				// 	break;
				// }

				for (var x = 0; x < arr.length; x++) {
					var value = arr[x];
		  			$target.css("transform", "translateY("+count+"%) translateX("+count+"%)  rotateY("+count+"deg) rotateX("+count+"deg)");
				 	 // var end = Date.now();
				 	 console.log(value);
				}

		  // }


			// height += 0.01;
			console.log(counter);
			counter++;
			requestAnimationFrame(drawFrame);
		}
		requestAnimationFrame(drawFrame);
	}

$('.water-block').each(function(i) {
	$(this).waterBlock(i);
});
 // 	var height = 0;
	// var $target = $('.water-block');
	// 	function drawFrame() {
	// 	  var start = Date.now();
	// 	  // Cache width and height values for the canvas.
	// 	  var cWidth = 1000;
	// 	  var cHeight = 1000;
	// 	  var cValue = null;

	// 	  // var max = -Infinity, min = Infinity;
	// 	  var noisefn = noise.perlin3;
	// 	  for (var x = 0; x < cWidth; x++) {
	// 	    for (var y = 0; y < cHeight; y++) {
	// 	      var value = noisefn(x / 50, y / 50, height);

	// 	      // if (max < value) max = value;
	// 	      // if (min > value) min = value;

	// 	  		cValue = value * 20;

	// 	    }
	// 	  }
	//   		console.log(cValue);
 //  			$target.css("transform", "translateX("+cValue+"%) rotateY("+cValue+"deg) rotateX("+cValue+"deg) translateZ("+cValue+"px)")
	// 	 	 var end = Date.now();

	// 	  height += 0.05
	// 	  requestAnimationFrame(drawFrame);
	// 	}
	// 	requestAnimationFrame(drawFrame);
	</script>
</body>
</html>